<!DOCTYPE html>
<html>
<head>
  <title> MH4U Power Calc </title>
  <style>
    h1 {
        color: red;
        text-align: center;
        font-size: 2.5em;
        font-family: "Arial black", Gadget, serif;
    }
    button {
        padding: 10px;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
    .result {
        text-align: center;
        font-size: 2em;
    }
    .info {
        font-family: "Arial", Gadget, serif;
        font-size: .9em;
    }
	  .credit {
		    font-family: "Times New Roman";
		    font-size: .9em;
	  }
  </style>
</head>
<body>
  <div class="title"> 
      <h1> MH4U True Power Calculator</h1>
      <img id="wepicon" style="margin:0px auto;display:block" height="100" width="100" src="https://i.imgur.com/siycvXa.png"> </img>
      <p class="result" id="weapon"> Weapon Type </p>
      <p class="result" id="damage"> True Damage </p>
   </div>

  <fieldset> 
      <legend> Damage Calculator </legend>
      Weapon Type: <br> 
      <input type="radio" id="weaponType" name="wep" value="Switchaxe">Switchaxe <br>
      <input type="radio" id="weaponType" name="wep" value="Great Sword">Great Sword <br>
      <input type="radio" id="weaponType" name="wep" value="Long Sword">Long Sword <br>
      <input type="radio" id="weaponType" name="wep" value="Hammer/Hunting Horn">Hammer/Hunting Horn <br>
      <input type="radio" id="weaponType" name="wep" value="Charge Blade">Charge Blade <br>
      <input type="radio" id="weaponType" name="wep" value="Sword & Shield/Dual Blades">Sword & Shield/Dual Blades <br>
      <input type="radio" id="weaponType" name="wep" value="Insect Glaive">Insect Glaive <br>
      <input type="radio" id="weaponType" name="wep" value="Lance/Gunlance">Lance/Gunlance <br>
      <input type="radio" id="weaponType" name="wep" value="Heavy Bowgun">Heavy Bowgun <br>
      <input type="radio" id="weaponType" name="wep" value="Light Bowgun">Light Bowgun <br>
      <input type="radio" id="weaponType" name="wep" value="Bow">Bow <br>
      Shown Damage: <input type="number" id="rawDam"> <br>
      <input type="button" value="Calculate" id="rawDam" onclick="calculate()">
  </fieldset>

  <div class="info">
      <p> <strong> What about elemental damage? </strong> True elemental damage is equal to <strong> one tenth </strong> of the shown elemental damage, and then multiplied by the       <strong> percent effectiveness </strong> of that element on the hitbox! </p> 
      <p> <strong> What about affinity? </strong> Affinity affects <strong> expected power. </strong> Expected power = True Power * (1 + [.25 * percent affinity])</p>
      <p> <strong> So expected power + elemental = damage? </strong> Well, not exactly. As well as the vulnerability of the monster's hitbox to both raw and elemental damage,  the         <strong> motion value </strong> of the move used must be taken into account for damage calculation. Motion values can be found <a href="http://www.dopr.net/formonsterhunter/%E3%80%90MH4%E3%80%91%E6%AD%A6%E5%99%A8%E7%A8%AE%E3%81%94%E3%81%A8%E3%81%AE%E3%83%A2%E3%    83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%80%A4%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81%E6%97%A9%E8%A6%8B%E8%A1%A8">here</a>, if you understand japanese.</p>
      <br>
      <a href="http://gaijinhunter.tumblr.com/post/73946102476/mh4-how-damage-calculation-works-simplified"> All information from the brilliant GaijinHunter! </a>
      <br>
      <br>
      <a href="http://monsterhunter.wikia.com/wiki/Category:Weapon_Icons"> All weapon icons from the Monster Hunter Wiki! </a>
      <br>
      <br>
      <p class="credit"> A web tool by Michael Rolland </p>
  </div>
  
  <script>
    function calculate() {
      var g = getRVBN("wep");
      document.getElementById("weapon").innerHTML = g;
      if (g === "Switchaxe") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 5.4);
          document.getElementById("wepicon").src="https://i.imgur.com/4tN5Ck1.png";
      } else if (g === "Great Sword") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 4.8);
          document.getElementById("wepicon").src="https://i.imgur.com/kUxytzE.png";
      } else if (g === "Long Sword") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 3.3);
          document.getElementById("wepicon").src="https://i.imgur.com/7dC0cXy.png";
      } else if (g === "Hammer/Hunting Horn") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 5.2);
          document.getElementById("wepicon").src="https://i.imgur.com/5YPeWsi.png";
      } else if (g === "Charge Blade") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 3.6);
          document.getElementById("wepicon").src="https://i.imgur.com/2wDO9NR.png";
      } else if (g === "Sword & Shield/Dual Blades") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 1.4);
          document.getElementById("wepicon").src="https://i.imgur.com/07sdLfx.png";
      } else if (g === "Insect Glaive") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 3.1);
          document.getElementById("wepicon").src="https://i.imgur.com/To6BstX.png";
      } else if (g === "Lance/Gunlance") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 2.3);
          document.getElementById("wepicon").src="https://i.imgur.com/ynO5zbM.png";
      } else if (g === "Heavy Bowgun") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 1.5);
          document.getElementById("wepicon").src="https://i.imgur.com/bUDfVpU.png";
      } else if (g === "Light Bowgun") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 1.3);
          document.getElementById("wepicon").src="https://i.imgur.com/qOr8zdO.png";
      } else if (g === "Bow") {
          var raw = document.getElementById("rawDam").value;
          document.getElementById("damage").innerHTML = (raw / 1.2);
          document.getElementById("wepicon").src="https://i.imgur.com/siycvXa.png";
      }
    };
    
    function getRVBN(n) {
      var i, r = document.getElementsByName(n);
      for (i = 0; i < r.length; i++) {
          if (r[i].checked) return r[i].value;
      }
      return '';
    }
  </script>
</body>
</html>
